!function(){function a(a,b){var c=this;this.touch=window.ontouchdown?"touchdown":"click",this.current=0,this.next=1,this.max=void 0,this.options=b,this.gllry=document.getElementById(a),this.gllry.classList.add("gllry"),this.breadcrumbs=void 0,this.items=this.gllry.querySelectorAll("li"),this.images=this.gllry.querySelectorAll("img"),this.max=this.items.length,b.breadcrumbs&&this.setBreadcrumbs(),b.headings&&this.setHeading(),this.setCurrent(),b.autoPlay&&this.autoPlay(),b.action&&this.setAction(),this.gllry.addEventListener(this.touch,function(a){c.goNext()})}var b="Close";a.prototype.go=function(a){var b=-1;a>this.current&&(b=1),this.current=a,this.current===this.max&&(this.current=0),this.current<0&&(this.current=this.max-1),this.next=this.current+b,this.next===this.max&&(this.next=0),this.next<0&&(this.next=this.max-1),this.setCurrent()},a.prototype.goNext=function(){this.current++,this.current===this.max&&(this.current=0),this.next++,this.next===this.max&&(this.next=0),this.options.animate?this.animate():this.setCurrent()},a.prototype.goPrev=function(){this.current--,this.current<0&&(this.current=this.max-1),this.next--,this.next<0&&(this.next=this.max-1),this.options.animate?this.animate():this.setCurrent()},a.prototype.setBreadcrumbs=function(){var a=this;this.breadcrumbs=document.createElement("ul"),this.breadcrumbs.classList.add("breadcrumbs");for(var b=0;b<this.images.length;b++){var c=document.createElement("li");c.setAttribute("data-index",b),this.breadcrumbs.appendChild(c)}this.gllry.appendChild(this.breadcrumbs),this.breadcrumbs.addEventListener("click",function(b){var c=b.target.getAttribute("data-index");void 0!==c&&null!==c&&a.go(c)})},a.prototype.setHeading=function(){this.heading=document.createElement("span"),this.heading.classList.add("heading"),this.gllry.appendChild(this.heading)},a.prototype.setCurrent=function(){var a=this;this.gllry.querySelector(".current")&&this.gllry.querySelector(".current").classList.remove("current"),this.gllry.querySelector(".next")&&this.gllry.querySelector(".next").classList.remove("next"),this.breadcrumbs.querySelector(".current")&&this.breadcrumbs.querySelector(".current").classList.remove("current"),this.actionButton&&this.actionButton.classList.remove("show"),this.items[this.current]&&this.items[this.current].classList.add("current"),this.items[this.next]&&this.items[this.next].classList.add("next"),this.breadcrumbs.children[this.current].classList.add("current"),this.heading&&(this.heading.innerHTML=this.items[this.current].querySelector("img").getAttribute("alt")),this.options.action&&setTimeout(function(){a.actionButton.classList.add("show")},this.options.action.timeout||0)},a.prototype.setAction=function(){this.actionButton=document.createElement("button"),this.actionButton.innerHTML=this.options.action.text||b,this.actionButton.addEventListener("click",this.options.action.callback),this.actionButton.classList.add("action"),this.gllry.appendChild(this.actionButton)},a.prototype.autoPlay=function(){var a=this;setInterval(function(){a.goNext()},this.options.autoPlay)},a.prototype.hide=function(){this.gllry.classList.add("hidden")},a.prototype.show=function(){this.gllry.classList.remove("hidden")},window.Gllry=a}();
//# sourceMappingURL=gllry.map