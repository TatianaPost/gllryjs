!function(){function a(a,b){var c=this;this.touchstart="ontouchstart"in window?"touchstart":"click",this.touchend="ontouchend"in window?"touchend":"click",this.current=0,this.next=1,this.max=void 0,this.options=b,this.gllry=document.getElementById(a),this.gllry.classList.add("gllry"),this.breadcrumbs=void 0,this.items=this.gllry.querySelectorAll("li"),this.images=this.gllry.querySelectorAll("img"),this.gllry.querySelector("ul").classList.add("size"),this.max=this.items.length,b.fullscreen&&this.gllry.classList.add("fullscreen"),b.breadcrumbs&&this.setBreadcrumbs(),b.headings&&this.setHeading(),this.setCurrent(),b.autoPlay&&this.autoPlay(),b.action&&this.setAction();var d=null;this.gllry.addEventListener(this.touchstart,function(a){d=a.touches[0].clientX}),this.gllry.addEventListener(this.touchend,function(a){a.changedTouches[0].clientX<=d?c.goNext():c.goPrev()})}var b="Close";a.prototype.go=function(a){var b=-1;a=parseInt(a),a>this.current&&(b=1),this.current=a,this.current===this.max&&(this.current=0),this.current<0&&(this.current=this.max-1),this.next=this.current+1,this.next===this.max&&(this.next=0),this.setCurrent()},a.prototype.goNext=function(){this.current++,this.current===this.max&&(this.current=0),this.next=this.current,this.next===this.max&&(this.next=0),this.gllry.querySelector(".next")&&this.gllry.querySelector(".next").classList.remove("next"),this.items[this.next]&&this.items[this.next].classList.add("next"),this.options.animate?this.animate():this.setCurrent()},a.prototype.goPrev=function(){this.current--,this.current<0&&(this.current=this.max-1),this.next=this.current,this.next<0&&(this.next=this.max-1),this.gllry.querySelector(".next")&&this.gllry.querySelector(".next").classList.remove("next"),this.items[this.next]&&this.items[this.next].classList.add("next"),this.options.animate?this.animate():this.setCurrent()},a.prototype.setBreadcrumbs=function(){this.breadcrumbs=document.createElement("ul"),this.breadcrumbs.classList.add("breadcrumbs"),this.breadcrumbs.classList.add(this.options.breadcrumbs.position);for(var a=0;a<this.images.length;a++){var b=document.createElement("li");b.setAttribute("data-index",a),this.breadcrumbs.appendChild(b)}this.gllry.appendChild(this.breadcrumbs),this.breadcrumbs.addEventListener("click",function(a){a.target.getAttribute("data-index")})},a.prototype.setHeading=function(){this.heading=document.createElement("span"),this.heading.classList.add("heading"),this.gllry.appendChild(this.heading)},a.prototype.animate=function(){var a=this,b=this.gllry.querySelector(".current");b&&(b.addEventListener("webkittransitionend",function c(){a.setCurrent(),b.classList.remove("fade"),b.removeEventListener("webkittransitionend",c)}),b.addEventListener("transitionend",function d(){a.setCurrent(),b.classList.remove("fade"),b.removeEventListener("transitionend",d)}),b.classList.add("fade"))},a.prototype.setCurrent=function(){var a=this;this.gllry.querySelector(".current")&&this.gllry.querySelector(".current").classList.remove("current"),this.gllry.querySelector(".next")&&this.gllry.querySelector(".next").classList.remove("next"),this.breadcrumbs.querySelector(".current")&&this.breadcrumbs.querySelector(".current").classList.remove("current"),this.actionButton&&this.actionButton.classList.remove("show"),this.items[this.current]&&this.items[this.current].classList.add("current"),this.items[this.next]&&this.items[this.next].classList.add("next"),this.breadcrumbs.children[this.current].classList.add("current"),this.heading&&(this.heading.innerHTML=this.items[this.current].querySelector("img").getAttribute("alt")),this.options.action&&setTimeout(function(){a.actionButton.classList.add("show")},this.options.action.timeout||0),this.options.autoPlay&&this.autoPlay()},a.prototype.setAction=function(){this.actionButton=document.createElement("button"),this.actionButton.innerHTML=this.options.action.text||b,this.actionButton.addEventListener("click",this.options.action.callback),this.actionButton.classList.add("action"),this.options.action.position&&this.actionButton.classList.add(this.options.action.position),this.gllry.appendChild(this.actionButton)},a.prototype.autoPlay=function(){var a=this;clearTimeout(this.interval),this.interval=null,this.interval=setTimeout(function(){a.goNext()},this.options.autoPlay)},a.prototype.hide=function(){this.gllry.classList.add("hidden")},a.prototype.show=function(){this.gllry.classList.remove("hidden")},window.Gllry=a}();
//# sourceMappingURL=gllry.map